monitoring-nginx | 172.16.0.10 - - [26/Nov/2025:14:26:25 +0300] "POST /api/activity/segment HTTP/1.1" 200 20 "-" "Go-http-client/1.1" "-"
monitoring-nginx | 172.16.0.10 - - [26/Nov/2025:14:27:22 +0300] "GET /api/alerts/unresolved HTTP/1.1" 200 2 "http://monitor.net.gslaudit.ru/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/142.0.0.0 Safari/537.36" "-"
monitoring-nginx | 172.16.0.10 - - [26/Nov/2025:14:27:22 +0300] "GET /api/dashboard/active-now HTTP/1.1" 200 2 "http://monitor.net.gslaudit.ru/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/142.0.0.0 Safari/537.36" "-"
monitoring-nginx | 172.16.0.10 - - [26/Nov/2025:14:27:22 +0300] "GET /api/dashboard/stats HTTP/1.1" 200 306 "http://monitor.net.gslaudit.ru/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/142.0.0.0 Safari/537.36" "-"
monitoring-nginx | 172.16.0.10 - - [26/Nov/2025:14:27:24 +0300] "GET / HTTP/1.1" 200 1174 "-" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/142.0.0.0 Safari/537.36" "-"
monitoring-nginx | 172.16.0.10 - - [26/Nov/2025:14:27:24 +0300] "GET /assets/index-CjW5Xm5x.css HTTP/1.1" 200 67539 "http://monitor.net.gslaudit.ru/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/142.0.0.0 Safari/537.36" "-"
monitoring-nginx | 2025/11/26 14:27:24 [warn] 28#28: *9 an upstream response is buffered to a temporary file /var/cache/nginx/proxy_temp/1/00/0000000001 while reading upstream, client: 172.16.0.10, server: localhost, request: "GET /assets/index-QOmA2f-Q.js HTTP/1.1", upstream: "http://172.18.0.5:80/assets/index-QOmA2f-Q.js", host: "monitor.net.gslaudit.ru", referrer: "http://monitor.net.gslaudit.ru/"
monitoring-nginx | 172.16.0.10 - - [26/Nov/2025:14:27:24 +0300] "GET /assets/index-QOmA2f-Q.js HTTP/1.1" 200 2002026 "http://monitor.net.gslaudit.ru/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/142.0.0.0 Safari/537.36" "-"
monitoring-nginx | 172.16.0.10 - - [26/Nov/2025:14:27:24 +0300] "GET /api/dashboard/stats HTTP/1.1" 200 306 "http://monitor.net.gslaudit.ru/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/142.0.0.0 Safari/537.36" "-"
monitoring-nginx | 172.16.0.10 - - [26/Nov/2025:14:27:24 +0300] "GET /api/alerts/unresolved HTTP/1.1" 200 2 "http://monitor.net.gslaudit.ru/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/142.0.0.0 Safari/537.36" "-"
monitoring-nginx | 172.16.0.10 - - [26/Nov/2025:14:27:24 +0300] "GET /api/dashboard/active-now HTTP/1.1" 200 2 "http://monitor.net.gslaudit.ru/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/142.0.0.0 Safari/537.36" "-"
monitoring-nginx | 172.16.0.10 - - [26/Nov/2025:14:27:25 +0300] "GET /favicon.ico HTTP/1.1" 200 7645 "http://monitor.net.gslaudit.ru/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/142.0.0.0 Safari/537.36" "-"
monitoring-nginx | 172.16.0.10 - - [26/Nov/2025:14:27:25 +0300] "POST /api/activity/segment HTTP/1.1" 200 20 "-" "Go-http-client/1.1" "-"
monitoring-minio-init | Added `myminio` successfully.
monitoring-minio-init | Bucket created successfully `myminio/screenshots`.
monitoring-minio-init | Bucket created successfully `myminio/usb-copies`.
monitoring-minio-init | mc: Please use 'mc anonymous'
monitoring-minio-init | Lifecycle configuration rule added with ID `d4je7mhhdvbc7h03kgsg` to myminio/screenshots.
monitoring-minio-init | MinIO buckets created successfully
monitoring-server | {"ts":"2025-11-26T14:28:10.317+0300","msg":"Failed to get categories (table might not exist yet), returning empty list","error":"code: 60, message: Unknown table expression identifier 'monitoring.application_categories' in scope SELECT toString(id) AS id, process_name, process_pattern, category, created_at, updated_at, created_by, updated_by, is_active FROM monitoring.application_categories WHERE (1 = 1) AND (is_active = 1) ORDER BY category ASC, process_name ASC"}
monitoring-server | [GIN] 2025/11/26 - 14:28:10 | 200 |    2.052165ms |     172.16.0.10 | GET      "/api/categories?search="
monitoring-server | {"ts":"2025-11-26T14:28:11.248+0300","msg":"Process catalog fetched","count":0}
monitoring-server | [GIN] 2025/11/26 - 14:28:11 | 200 |    4.154284ms |     172.16.0.10 | GET      "/api/process-catalog"
monitoring-server | {"ts":"2025-11-26T14:28:16.457+0300","msg":"Fetching application categories","category":"unproductive","search":"","active_only":true}
monitoring-server | {"ts":"2025-11-26T14:28:16.459+0300","msg":"Failed to query application categories","error":"code: 60, message: Unknown table expression identifier 'monitoring.application_categories' in scope SELECT toString(id) AS id, process_name, process_pattern, category, created_at, updated_at, created_by, updated_by, is_active FROM monitoring.application_categories WHERE (1 = 1) AND (is_active = 1) AND (category = 'unproductive') ORDER BY category ASC, process_name ASC"}
monitoring-server | {"ts":"2025-11-26T14:28:16.459+0300","msg":"Failed to get categories (table might not exist yet), returning empty list","error":"code: 60, message: Unknown table expression identifier 'monitoring.application_categories' in scope SELECT toString(id) AS id, process_name, process_pattern, category, created_at, updated_at, created_by, updated_by, is_active FROM monitoring.application_categories WHERE (1 = 1) AND (is_active = 1) AND (category = 'unproductive') ORDER BY category ASC, process_name ASC"}
monitoring-server | [GIN] 2025/11/26 - 14:28:16 | 200 |     2.11883ms |     172.16.0.10 | GET      "/api/categories?search=&category=unproductive"
monitoring-server | {"ts":"2025-11-26T14:28:18.284+0300","msg":"Fetching application categories","category":"productive","search":"","active_only":true}
monitoring-server | {"ts":"2025-11-26T14:28:18.288+0300","msg":"Failed to query application categories","error":"code: 60, message: Unknown table expression identifier 'monitoring.application_categories' in scope SELECT toString(id) AS id, process_name, process_pattern, category, created_at, updated_at, created_by, updated_by, is_active FROM monitoring.application_categories WHERE (1 = 1) AND (is_active = 1) AND (category = 'productive') ORDER BY category ASC, process_name ASC"}
monitoring-server | {"ts":"2025-11-26T14:28:18.288+0300","msg":"Failed to get categories (table might not exist yet), returning empty list","error":"code: 60, message: Unknown table expression identifier 'monitoring.application_categories' in scope SELECT toString(id) AS id, process_name, process_pattern, category, created_at, updated_at, created_by, updated_by, is_active FROM monitoring.application_categories WHERE (1 = 1) AND (is_active = 1) AND (category = 'productive') ORDER BY category ASC, process_name ASC"}
monitoring-server | [GIN] 2025/11/26 - 14:28:18 | 200 |    3.724358ms |     172.16.0.10 | GET      "/api/categories?search=&category=productive"
monitoring-server | {"ts":"2025-11-26T14:28:19.662+0300","msg":"Fetching application categories","category":"system","search":"","active_only":true}
monitoring-server | {"ts":"2025-11-26T14:28:19.666+0300","msg":"Failed to query application categories","error":"code: 60, message: Unknown table expression identifier 'monitoring.application_categories' in scope SELECT toString(id) AS id, process_name, process_pattern, category, created_at, updated_at, created_by, updated_by, is_active FROM monitoring.application_categories WHERE (1 = 1) AND (is_active = 1) AND (category = 'system') ORDER BY category ASC, process_name ASC"}
monitoring-server | {"ts":"2025-11-26T14:28:19.666+0300","msg":"Failed to get categories (table might not exist yet), returning empty list","error":"code: 60, message: Unknown table expression identifier 'monitoring.application_categories' in scope SELECT toString(id) AS id, process_name, process_pattern, category, created_at, updated_at, created_by, updated_by, is_active FROM monitoring.application_categories WHERE (1 = 1) AND (is_active = 1) AND (category = 'system') ORDER BY category ASC, process_name ASC"}
monitoring-server | [GIN] 2025/11/26 - 14:28:19 | 200 |    3.605412ms |     172.16.0.10 | GET      "/api/categories?search=&category=system"
monitoring-server | [GIN] 2025/11/26 - 14:28:25 | 200 |    4.125131ms |     172.16.0.10 | GET      "/api/alerts/unresolved"
monitoring-server | {"ts":"2025-11-26T14:28:35.480+0300","msg":"Failed to create process catalog entry","error":"code: 376, message: Cannot parse uuid 1764156515476283054: Cannot parse UUID from String: while executing 'FUNCTION if(isNull(-dummy-0) : 3, defaultValueOfTypeName('UUID') :: 2, _CAST(-dummy-0, 'UUID') :: 4) -> if(isNull(-dummy-0), defaultValueOfTypeName('UUID'), _CAST(-dummy-0, 'UUID')) UUID : 1': While executing ValuesBlockInputFormat","friendly_name":"Google Chrome"}
monitoring-server | [GIN] 2025/11/26 - 14:28:35 | 500 |    4.483662ms |     172.16.0.10 | POST     "/api/process-catalog"
monitoring-server | 2025/11/26 14:28:35 Failed to create process catalog entry: code: 376, message: Cannot parse uuid 1764156515476283054: Cannot parse UUID from String: while executing 'FUNCTION if(isNull(-dummy-0) : 3, defaultValueOfTypeName('UUID') :: 2, _CAST(-dummy-0, 'UUID') :: 4) -> if(isNull(-dummy-0), defaultValueOfTypeName('UUID'), _CAST(-dummy-0, 'UUID')) UUID : 1': While executing ValuesBlockInputFormat
monitoring-server | [GIN] 2025/11/26 - 14:28:44 | 200 |    5.081241ms |     172.16.0.10 | GET      "/api/users"
monitoring-server | {"ts":"2025-11-26T14:29:02.061+0300","msg":"ðŸ”µ getDailyReportHandler called","username":"a-kiv","date_param":"2025-11-26","request_url":"/api/reports/daily/a-kiv?date=2025-11-26"}
monitoring-server | {"ts":"2025-11-26T14:29:02.061+0300","msg":"ðŸ”µ Parsed date","parsed_date":"2025-11-26 00:00:00 MSK","timezone":"Europe/Moscow"}
monitoring-server | {"ts":"2025-11-26T14:29:02.061+0300","msg":"GetDailyReport called","username":"a-kiv","date":"2025-11-26","startOfDay":"2025-11-26 00:00:00 MSK","endOfDay":"2025-11-27 00:00:00 MSK","timezone":"Europe/Moscow"}
monitoring-server | {"ts":"2025-11-26T14:29:02.061+0300","msg":"GetActivitySegmentsByUsername","username":"a-kiv","start":"2025-11-26 00:00:00","end":"2025-11-27 00:00:00","query":"\n                SELECT \n                        timestamp_start,\n                        timestamp_end,\n                        duration_sec,\n                        state,\n                        computer_name,\n                        username,\n                        process_name,\n                        window_title,\n                        session_id\n                FROM monitoring.activity_segments\n                WHERE username = ? \n                  AND timestamp_start >= toDateTime64('2025-11-26 00:00:00', 3)\n                  AND timestamp_start < toDateTime64('2025-11-27 00:00:00', 3)\n                ORDER BY timestamp_start ASC\n                LIMIT 10000"}
monitoring-server | {"ts":"2025-11-26T14:29:02.069+0300","msg":"GetActivitySegmentsByUsername result","username":"a-kiv","segments_count":138,"states":{"active":129,"idle":6,"offline":3}}
monitoring-server | {"ts":"2025-11-26T14:29:02.069+0300","msg":"GetApplicationUsageFromSegments","username":"a-kiv","start":"2025-11-26 00:00:00","end":"2025-11-27 00:00:00","query":"\n                SELECT \n                        process_name,\n                        window_title,\n                        sum(duration_sec) as total_duration,\n                        count(*) as count\n                FROM monitoring.activity_segments\n                WHERE username = ? \n                  AND timestamp_start >= toDateTime64('2025-11-26 00:00:00', 3)\n                  AND timestamp_start < toDateTime64('2025-11-27 00:00:00', 3)\n                GROUP BY process_name, window_title\n                ORDER BY total_duration DESC\n                LIMIT 50"}
monitoring-nginx | 172.16.0.10 - - [26/Nov/2025:14:27:27 +0300] "GET /api/employees HTTP/1.1" 200 2 "http://monitor.net.gslaudit.ru/employees" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/142.0.0.0 Safari/537.36" "-"
monitoring-nginx | 172.16.0.10 - - [26/Nov/2025:14:27:29 +0300] "GET /api/users HTTP/1.1" 200 9 "http://monitor.net.gslaudit.ru/reports" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/142.0.0.0 Safari/537.36" "-"
monitoring-nginx | 172.16.0.10 - - [26/Nov/2025:14:27:31 +0300] "GET /api/reports/daily/a-kiv?date=2025-11-26 HTTP/1.1" 200 47601 "http://monitor.net.gslaudit.ru/reports" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/142.0.0.0 Safari/537.36" "-"
monitoring-nginx | 2025/11/26 14:27:31 [warn] 30#30: *13 an upstream response is buffered to a temporary file /var/cache/nginx/proxy_temp/2/00/0000000002 while reading upstream, client: 172.16.0.10, server: localhost, request: "GET /api/screenshot/ADM-01_a-kiv_1764155215 HTTP/1.1", upstream: "http://172.18.0.4:8080/api/screenshot/ADM-01_a-kiv_1764155215", host: "monitor.net.gslaudit.ru", referrer: "http://monitor.net.gslaudit.ru/reports"
monitoring-nginx | 172.16.0.10 - - [26/Nov/2025:14:27:31 +0300] "GET /api/screenshot/ADM-01_a-kiv_1764155215 HTTP/1.1" 200 318446 "http://monitor.net.gslaudit.ru/reports" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/142.0.0.0 Safari/537.36" "-"
monitoring-nginx | 172.16.0.10 - - [26/Nov/2025:14:27:43 +0300] "GET /api/reports/daily/a-kiv?date=2025-11-25 HTTP/1.1" 200 32851 "http://monitor.net.gslaudit.ru/reports" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/142.0.0.0 Safari/537.36" "-"
monitoring-nginx | 172.16.0.10 - - [26/Nov/2025:14:28:10 +0300] "GET /api/categories?search= HTTP/1.1" 200 21 "http://monitor.net.gslaudit.ru/settings" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/142.0.0.0 Safari/537.36" "-"
monitoring-nginx | 172.16.0.10 - - [26/Nov/2025:14:28:11 +0300] "GET /api/process-catalog HTTP/1.1" 200 2 "http://monitor.net.gslaudit.ru/settings" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/142.0.0.0 Safari/537.36" "-"
monitoring-nginx | 172.16.0.10 - - [26/Nov/2025:14:28:16 +0300] "GET /api/categories?search=&category=unproductive HTTP/1.1" 200 21 "http://monitor.net.gslaudit.ru/settings" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/142.0.0.0 Safari/537.36" "-"
monitoring-nginx | 172.16.0.10 - - [26/Nov/2025:14:28:18 +0300] "GET /api/categories?search=&category=productive HTTP/1.1" 200 21 "http://monitor.net.gslaudit.ru/settings" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/142.0.0.0 Safari/537.36" "-"
monitoring-nginx | 172.16.0.10 - - [26/Nov/2025:14:28:19 +0300] "GET /api/categories?search=&category=system HTTP/1.1" 200 21 "http://monitor.net.gslaudit.ru/settings" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/142.0.0.0 Safari/537.36" "-"
monitoring-nginx | 172.16.0.10 - - [26/Nov/2025:14:28:25 +0300] "GET /api/alerts/unresolved HTTP/1.1" 200 2 "http://monitor.net.gslaudit.ru/settings" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/142.0.0.0 Safari/537.36" "-"
monitoring-nginx | 172.16.0.10 - - [26/Nov/2025:14:28:35 +0300] "POST /api/process-catalog HTTP/1.1" 500 28 "http://monitor.net.gslaudit.ru/settings" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/142.0.0.0 Safari/537.36" "-"
monitoring-nginx | 172.16.0.10 - - [26/Nov/2025:14:28:44 +0300] "GET /api/users HTTP/1.1" 200 9 "http://monitor.net.gslaudit.ru/reports" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/142.0.0.0 Safari/537.36" "-"
monitoring-nginx | 172.16.0.10 - - [26/Nov/2025:14:29:02 +0300] "GET /api/reports/daily/a-kiv?date=2025-11-26 HTTP/1.1" 200 47601 "http://monitor.net.gslaudit.ru/reports" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/142.0.0.0 Safari/537.36" "-"
monitoring-nginx | 172.16.0.10 - - [26/Nov/2025:14:29:25 +0300] "GET /api/alerts/unresolved HTTP/1.1" 200 2 "http://monitor.net.gslaudit.ru/reports" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/142.0.0.0 Safari/537.36" "-"
monitoring-nginx | 172.16.0.10 - - [26/Nov/2025:14:29:25 +0300] "POST /api/activity/segment HTTP/1.1" 200 20 "-" "Go-http-client/1.1" "-"
monitoring-nginx | 172.16.0.10 - - [26/Nov/2025:14:30:25 +0300] "GET /api/alerts/unresolved HTTP/1.1" 200 2 "http://monitor.net.gslaudit.ru/reports" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/142.0.0.0 Safari/537.36" "-"
monitoring-nginx | 172.16.0.10 - - [26/Nov/2025:14:30:38 +0300] "GET /reports HTTP/1.1" 200 1174 "-" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/142.0.0.0 Safari/537.36" "-"
monitoring-nginx | 2025/11/26 14:30:38 [warn] 30#30: *13 an upstream response is buffered to a temporary file /var/cache/nginx/proxy_temp/3/00/0000000003 while reading upstream, client: 172.16.0.10, server: localhost, request: "GET /assets/index-QOmA2f-Q.js HTTP/1.1", upstream: "http://172.18.0.5:80/assets/index-QOmA2f-Q.js", host: "monitor.net.gslaudit.ru", referrer: "http://monitor.net.gslaudit.ru/reports"
monitoring-nginx | 172.16.0.10 - - [26/Nov/2025:14:30:38 +0300] "GET /assets/index-CjW5Xm5x.css HTTP/1.1" 200 67539 "http://monitor.net.gslaudit.ru/reports" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/142.0.0.0 Safari/537.36" "-"
monitoring-nginx | 172.16.0.10 - - [26/Nov/2025:14:30:38 +0300] "GET /assets/index-QOmA2f-Q.js HTTP/1.1" 200 2002026 "http://monitor.net.gslaudit.ru/reports" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/142.0.0.0 Safari/537.36" "-"
monitoring-nginx | 172.16.0.10 - - [26/Nov/2025:14:30:39 +0300] "GET /api/alerts/unresolved HTTP/1.1" 200 2 "http://monitor.net.gslaudit.ru/reports" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/142.0.0.0 Safari/537.36" "-"
monitoring-nginx | 172.16.0.10 - - [26/Nov/2025:14:30:39 +0300] "GET /api/users HTTP/1.1" 200 9 "http://monitor.net.gslaudit.ru/reports" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/142.0.0.0 Safari/537.36" "-"
monitoring-nginx | 172.16.0.10 - - [26/Nov/2025:14:30:39 +0300] "GET /favicon.ico HTTP/1.1" 200 7645 "http://monitor.net.gslaudit.ru/reports" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/142.0.0.0 Safari/537.36" "-"
monitoring-nginx | 172.16.0.10 - - [26/Nov/2025:14:30:41 +0300] "GET /api/reports/daily/a-kiv?date=2025-11-26 HTTP/1.1" 200 47862 "http://monitor.net.gslaudit.ru/reports" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/142.0.0.0 Safari/537.36" "-"
monitoring-nginx | 172.16.0.10 - - [26/Nov/2025:14:30:55 +0300] "POST /api/activity/segment HTTP/1.1" 200 20 "-" "Go-http-client/1.1" "-"
monitoring-nginx | 172.16.0.10 - - [26/Nov/2025:14:31:25 +0300] "POST /api/activity/segment HTTP/1.1" 200 20 "-" "Go-http-client/1.1" "-"
monitoring-nginx | 172.16.0.10 - - [26/Nov/2025:14:31:39 +0300] "GET /api/alerts/unresolved HTTP/1.1" 200 2 "http://monitor.net.gslaudit.ru/reports" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/142.0.0.0 Safari/537.36" "-"
monitoring-nginx | 172.16.0.10 - - [26/Nov/2025:14:31:55 +0300] "POST /api/activity/segment HTTP/1.1" 200 20 "-" "Go-http-client/1.1" "-"
monitoring-nginx | 172.16.0.10 - - [26/Nov/2025:14:32:25 +0300] "POST /api/events/batch HTTP/1.1" 200 174 "-" "Go-http-client/1.1" "-"
monitoring-nginx | 172.16.0.10 - - [26/Nov/2025:14:32:55 +0300] "POST /api/activity/segment HTTP/1.1" 200 20 "-" "Go-http-client/1.1" "-"
monitoring-nginx | 172.16.0.10 - - [26/Nov/2025:14:34:25 +0300] "POST /api/activity/segment HTTP/1.1" 200 20 "-" "Go-http-client/1.1" "-"
monitoring-nginx | 172.16.0.10 - - [26/Nov/2025:14:34:55 +0300] "POST /api/activity/segment HTTP/1.1" 200 20 "-" "Go-http-client/1.1" "-"
monitoring-nginx | 172.16.0.10 - - [26/Nov/2025:14:35:25 +0300] "POST /api/activity/segment HTTP/1.1" 200 20 "-" "Go-http-client/1.1" "-"
monitoring-nginx | 172.16.0.10 - - [26/Nov/2025:14:35:55 +0300] "POST /api/activity/segment HTTP/1.1" 200 20 "-" "Go-http-client/1.1" "-"
monitoring-server | {"ts":"2025-11-26T14:29:02.078+0300","msg":"Failed to query application categories","error":"code: 60, message: Unknown table expression identifier 'monitoring.application_categories' in scope SELECT toString(id) AS id, process_name, process_pattern, category, created_at, updated_at, created_by, updated_by, is_active FROM monitoring.application_categories WHERE (1 = 1) AND (is_active = 1) ORDER BY category ASC, process_name ASC"}
monitoring-server | {"ts":"2025-11-26T14:29:02.078+0300","msg":"Failed to load application categories, using default 'neutral'","error":"code: 60, message: Unknown table expression identifier 'monitoring.application_categories' in scope SELECT toString(id) AS id, process_name, process_pattern, category, created_at, updated_at, created_by, updated_by, is_active FROM monitoring.application_categories WHERE (1 = 1) AND (is_active = 1) ORDER BY category ASC, process_name ASC"}
monitoring-server | {"ts":"2025-11-26T14:29:02.078+0300","msg":"GetApplicationUsageFromSegments result","username":"a-kiv","apps_count":22}
monitoring-server | {"ts":"2025-11-26T14:29:02.101+0300","msg":"GetDailyReport completed","username":"a-kiv","activity_events_count":138,"applications_count":22,"screenshots_count":10,"usb_events_count":0,"file_events_count":0,"total_active_time":14913,"total_idle_time":5094,"total_offline_time":25947}
monitoring-server | {"ts":"2025-11-26T14:29:02.101+0300","msg":"ðŸ”µ getDailyReportHandler - report retrieved","username":"a-kiv","date":"2025-11-26","activity_events":138,"applications":22,"screenshots":10,"usb_events":0,"file_events":0,"keyboard_periods":24,"dlp_alerts":0}
monitoring-server | {"ts":"2025-11-26T14:29:02.101+0300","msg":"ðŸ”µ First activity event","process":"chrome.exe","window":"Ð›Ð¾Ð³Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ðµ Ð² Golang / Ð¥Ð°Ð±Ñ€ - Google Chrome","duration":179}
monitoring-server | {"ts":"2025-11-26T14:29:02.101+0300","msg":"ðŸ”µ First application","process":"chrome.exe","duration":3189,"category":"neutral"}
monitoring-server | {"ts":"2025-11-26T14:29:02.101+0300","msg":"ðŸ”µ getDailyReportHandler - JSON response sent"}
monitoring-server | [GIN] 2025/11/26 - 14:29:02 | 200 |   39.878797ms |     172.16.0.10 | GET      "/api/reports/daily/a-kiv?date=2025-11-26"
monitoring-server | [GIN] 2025/11/26 - 14:29:25 | 200 |    3.580903ms |     172.16.0.10 | GET      "/api/alerts/unresolved"
monitoring-server | [GIN] 2025/11/26 - 14:29:25 | 200 |      9.5208ms |     172.16.0.10 | POST     "/api/activity/segment"
monitoring-server | [GIN] 2025/11/26 - 14:30:25 | 200 |     3.34437ms |     172.16.0.10 | GET      "/api/alerts/unresolved"
monitoring-server | [GIN] 2025/11/26 - 14:30:39 | 200 |    4.855071ms |     172.16.0.10 | GET      "/api/alerts/unresolved"
monitoring-server | [GIN] 2025/11/26 - 14:30:39 | 200 |    5.070547ms |     172.16.0.10 | GET      "/api/users"
monitoring-server | {"ts":"2025-11-26T14:30:41.124+0300","msg":"ðŸ”µ getDailyReportHandler called","username":"a-kiv","date_param":"2025-11-26","request_url":"/api/reports/daily/a-kiv?date=2025-11-26"}
monitoring-server | {"ts":"2025-11-26T14:30:41.124+0300","msg":"ðŸ”µ Parsed date","parsed_date":"2025-11-26 00:00:00 MSK","timezone":"Europe/Moscow"}
monitoring-server | {"ts":"2025-11-26T14:30:41.124+0300","msg":"GetDailyReport called","username":"a-kiv","date":"2025-11-26","startOfDay":"2025-11-26 00:00:00 MSK","endOfDay":"2025-11-27 00:00:00 MSK","timezone":"Europe/Moscow"}
monitoring-server | {"ts":"2025-11-26T14:30:41.125+0300","msg":"GetActivitySegmentsByUsername","username":"a-kiv","start":"2025-11-26 00:00:00","end":"2025-11-27 00:00:00","query":"\n                SELECT \n                        timestamp_start,\n                        timestamp_end,\n                        duration_sec,\n                        state,\n                        computer_name,\n                        username,\n                        process_name,\n                        window_title,\n                        session_id\n                FROM monitoring.activity_segments\n                WHERE username = ? \n                  AND timestamp_start >= toDateTime64('2025-11-26 00:00:00', 3)\n                  AND timestamp_start < toDateTime64('2025-11-27 00:00:00', 3)\n                ORDER BY timestamp_start ASC\n                LIMIT 10000"}
monitoring-server | {"ts":"2025-11-26T14:30:41.131+0300","msg":"GetActivitySegmentsByUsername result","username":"a-kiv","segments_count":139,"states":{"active":130,"idle":6,"offline":3}}
monitoring-server | {"ts":"2025-11-26T14:30:41.131+0300","msg":"GetApplicationUsageFromSegments","username":"a-kiv","start":"2025-11-26 00:00:00","end":"2025-11-27 00:00:00","query":"\n                SELECT \n                        process_name,\n                        window_title,\n                        sum(duration_sec) as total_duration,\n                        count(*) as count\n                FROM monitoring.activity_segments\n                WHERE username = ? \n                  AND timestamp_start >= toDateTime64('2025-11-26 00:00:00', 3)\n                  AND timestamp_start < toDateTime64('2025-11-27 00:00:00', 3)\n                GROUP BY process_name, window_title\n                ORDER BY total_duration DESC\n                LIMIT 50"}
monitoring-server | {"ts":"2025-11-26T14:30:41.162+0300","msg":"Failed to query application categories","error":"code: 60, message: Unknown table expression identifier 'monitoring.application_categories' in scope SELECT toString(id) AS id, process_name, process_pattern, category, created_at, updated_at, created_by, updated_by, is_active FROM monitoring.application_categories WHERE (1 = 1) AND (is_active = 1) ORDER BY category ASC, process_name ASC"}
monitoring-server | {"ts":"2025-11-26T14:30:41.162+0300","msg":"Failed to load application categories, using default 'neutral'","error":"code: 60, message: Unknown table expression identifier 'monitoring.application_categories' in scope SELECT toString(id) AS id, process_name, process_pattern, category, created_at, updated_at, created_by, updated_by, is_active FROM monitoring.application_categories WHERE (1 = 1) AND (is_active = 1) ORDER BY category ASC, process_name ASC"}
monitoring-server | {"ts":"2025-11-26T14:30:41.163+0300","msg":"GetApplicationUsageFromSegments result","username":"a-kiv","apps_count":22}
monitoring-server | {"ts":"2025-11-26T14:30:41.179+0300","msg":"GetDailyReport completed","username":"a-kiv","activity_events_count":139,"applications_count":22,"screenshots_count":10,"usb_events_count":0,"file_events_count":0,"total_active_time":15032,"total_idle_time":5094,"total_offline_time":25947}
monitoring-server | {"ts":"2025-11-26T14:30:41.179+0300","msg":"ðŸ”µ getDailyReportHandler - report retrieved","username":"a-kiv","date":"2025-11-26","activity_events":139,"applications":22,"screenshots":10,"usb_events":0,"file_events":0,"keyboard_periods":24,"dlp_alerts":0}
monitoring-server | {"ts":"2025-11-26T14:30:41.179+0300","msg":"ðŸ”µ First activity event","process":"chrome.exe","window":"Ð›Ð¾Ð³Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ðµ Ð² Golang / Ð¥Ð°Ð±Ñ€ - Google Chrome","duration":179}
monitoring-server | {"ts":"2025-11-26T14:30:41.179+0300","msg":"ðŸ”µ First application","process":"chrome.exe","duration":3308,"category":"neutral"}
monitoring-server | {"ts":"2025-11-26T14:30:41.179+0300","msg":"ðŸ”µ getDailyReportHandler - JSON response sent"}
monitoring-server | [GIN] 2025/11/26 - 14:30:41 | 200 |    55.19906ms |     172.16.0.10 | GET      "/api/reports/daily/a-kiv?date=2025-11-26"
monitoring-server | [GIN] 2025/11/26 - 14:30:55 | 200 |    11.96887ms |     172.16.0.10 | POST     "/api/activity/segment"
monitoring-server | [GIN] 2025/11/26 - 14:31:25 | 200 |   10.203658ms |     172.16.0.10 | POST     "/api/activity/segment"
monitoring-server | [GIN] 2025/11/26 - 14:31:39 | 200 |    3.093378ms |     172.16.0.10 | GET      "/api/alerts/unresolved"
monitoring-server | [GIN] 2025/11/26 - 14:31:55 | 200 |   10.153683ms |     172.16.0.10 | POST     "/api/activity/segment"
monitoring-server | [GIN] 2025/11/26 - 14:32:25 | 200 |    5.351206ms |     172.16.0.10 | POST     "/api/events/batch"
monitoring-server | [GIN] 2025/11/26 - 14:32:55 | 200 |   10.578942ms |     172.16.0.10 | POST     "/api/activity/segment"
monitoring-server | [GIN] 2025/11/26 - 14:34:25 | 200 |   10.448843ms |     172.16.0.10 | POST     "/api/activity/segment"
monitoring-server | [GIN] 2025/11/26 - 14:34:55 | 200 |   12.339089ms |     172.16.0.10 | POST     "/api/activity/segment"
monitoring-server | [GIN] 2025/11/26 - 14:35:25 | 200 |    9.429199ms |     172.16.0.10 | POST     "/api/activity/segment"
monitoring-server | [GIN] 2025/11/26 - 14:35:55 | 200 |   11.872191ms |     172.16.0.10 | POST     "/api/activity/segment"